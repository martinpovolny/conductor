#!/usr/bin/env ruby
# encoding: utf-8

require File.expand_path('./config/environment.rb')
##

#$: << '../../costengine/lib/'
#require 'costengine'

Cost.delete_all
CostEngine::Loaders::Mock.init_profiles
CostEngine::Loaders::EC2.init_profiles
CostEngine::Loaders::RHEVM.init_profiles
exit

#CostEngine.infect_models # done in confin/initializers/cost_engine.rb

Deployment.all.each { |d|
  puts "#{d.id}: #{d.cost}"
}

exit

# #InstanceMatch
# #Instance
# #Deployment
# #
# #class InstanceMatch
# #  include CostEngine::Decorators::InstanceMatch
# #end
# #
# #class Instance
# #  #include CTest
# #  include CostEngine::Decorators::Instance
# #end
# #
# #class Deployment
# #  include CostEngine::Decorators::Deployment
# #end
# #
# ##i = Instance.find(1); p i.fsck; exit
# 
# p ['instance_match', InstanceMatch.all[0].cost.to_f]
# p ['instance', Instance.find(1).cost.to_f]
# 
# #p CostEngine::BillingModel::MODELS; exit
# 
# deployment = Deployment.find(1)
# p ['deployment', deployment.cost.to_f]
# 
# Deployment.all.collect.each { |d|
#   puts "#{d.id}: #{d.cost}"
# }
